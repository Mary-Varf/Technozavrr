(function(t){function e(e){for(var a,i,c=e[0],n=e[1],l=e[2],d=0,m=[];d<c.length;d++)i=c[d],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&m.push(o[i][0]),o[i]=0;for(a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a]);u&&u(e);while(m.length)m.shift()();return s.push.apply(s,l||[]),r()}function r(){for(var t,e=0;e<s.length;e++){for(var r=s[e],a=!0,c=1;c<r.length;c++){var n=r[c];0!==o[n]&&(a=!1)}a&&(s.splice(e--,1),t=i(i.s=r[0]))}return t}var a={},o={app:0},s=[];function i(e){if(a[e])return a[e].exports;var r=a[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=a,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(r,a,function(e){return t[e]}.bind(null,a));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/Technozavrr/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],n=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var u=n;s.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("2b0e"),o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("header",{staticClass:"header"},[r("div",{staticClass:"header__wrapper container"},[r("router-link",{attrs:{to:{name:"main"}}},[r("span",{staticClass:"header__info"},[t._v("Каталог")])]),r("router-link",{staticClass:"header__logo",attrs:{to:{name:"main"}}},[r("img",{attrs:{src:"img/svg/logo-tech.svg",alt:"Логотип интернет магазина Технозавррр",width:"190",height:"33"}})]),r("a",{staticClass:"header__tel",attrs:{href:"tel:8 800 600 90 09"}},[t._v(" 8 800 600 90 09 ")]),r("CartIndicator")],1)]),r("router-view"),r("footer",{staticClass:"footer"},[r("div",{staticClass:"footer__wrapper container"},[r("ul",{staticClass:"footer__links"},[r("li",[r("router-link",{staticClass:"footer__link",attrs:{to:{name:"main"}}},[t._v(" Каталог ")])],1),t._m(0),t._m(1),t._m(2),t._m(3)]),r("ul",{staticClass:"footer__social social"},[r("li",{staticClass:"social__item"},[r("a",{staticClass:"social__link",attrs:{href:"#","aria-label":"Вконтакте"}},[r("svg",{attrs:{width:"20",height:"11",fill:"currentColor"}},[r("use",{attrs:{"xlink:href":"#icon-vk"}})])])]),r("li",{staticClass:"social__item"},[r("a",{staticClass:"social__link",attrs:{href:"#","aria-label":"Инстаграм"}},[r("svg",{attrs:{width:"17",height:"17",fill:"currentColor"}},[r("use",{attrs:{"xlink:href":"#icon-insta"}})])])]),r("li",{staticClass:"social__item"},[r("a",{staticClass:"social__link",attrs:{href:"#","aria-label":"Facebook"}},[r("svg",{attrs:{width:"17",height:"17",fill:"currentColor"}},[r("use",{attrs:{"xlink:href":"#icon-facebook"}})])])]),r("li",{staticClass:"social__item"},[r("a",{staticClass:"social__link",attrs:{href:"#","aria-label":"Twitter"}},[r("svg",{attrs:{width:"17",height:"14",fill:"currentColor"}},[r("use",{attrs:{"xlink:href":"#icon-twitter"}})])])]),r("li",{staticClass:"social__item"},[r("a",{staticClass:"social__link",attrs:{href:"#","aria-label":"Telegram"}},[r("svg",{attrs:{width:"19",height:"17",fill:"currentColor"}},[r("use",{attrs:{"xlink:href":"#icon-telegram"}})])])])]),r("p",{staticClass:"footer__desc"},[t._v(" Все права на материалы, находящиеся на сайте, охраняются в соответствии с законодательством РФ, в том числе об авторском праве и смежных правах. ")]),t._m(4),r("span",{staticClass:"footer__copyright"},[t._v(" © 2020 Технозавррр ")])])])],1)},s=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("li",[r("a",{staticClass:"footer__link",attrs:{href:"tel:88006009009"}},[t._v(" 8 800 600 90 09 ")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("li",[r("a",{staticClass:"footer__link",attrs:{href:"mailto:hi@technozavrrr.com"}},[t._v(" hi@technozavrrr.com ")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("li",[r("a",{staticClass:"footer__link",attrs:{href:"#"}},[t._v(" Распродажа ")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("li",[r("a",{staticClass:"footer__link footer__link--medium",attrs:{href:"#"}},[t._v(" Заказать звонок ")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ul",{staticClass:"footer__data"},[r("li",[r("a",{staticClass:"footer__link",attrs:{href:"#",target:"_blank",rel:"noopener",type:"application/pdf"}},[t._v(" Политика конфиденциальности ")])]),r("li",[r("a",{staticClass:"footer__link",attrs:{href:"#",target:"_blank",rel:"noopener",type:"application/pdf"}},[t._v(" Публичная оферта ")])])])}],i=r("5530"),c=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("router-link",{staticClass:"header__cart",attrs:{to:{name:"cart"},"aria-label":"Корзина с товарами"}},[r("svg",{attrs:{width:"30",height:"21",fill:"currentColor"}},[r("use",{attrs:{"xlink:href":"#icon-cart"}})]),r("span",{staticClass:"header__count",attrs:{"aria-label":"Количество товаров"}},[t._v(t._s(t.totalNumber))])])},n=[],l=r("2f62"),u={computed:Object(i["a"])({},Object(l["c"])(["totalNumber"]))},d=u,m=r("2877"),p=Object(m["a"])(d,c,n,!1,null,null,null),_=p.exports,f={components:{CartIndicator:_},created:function(){var t=localStorage.getItem("userAccessKey");t&&this.updateUserAccessKey(t),this.loadCart()},methods:Object(i["a"])(Object(i["a"])({},Object(l["b"])(["loadCart"])),Object(l["d"])(["updateUserAccessKey"]))},h=f,v=Object(m["a"])(h,o,s,!1,null,null,null),C=v.exports,b=r("8c4f"),g=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("main",{staticClass:"content container"},[r("div",{staticClass:"content__top content__top--catalog"},[r("h1",{staticClass:"content__title"},[t._v(" Каталог ")]),r("span",{staticClass:"content__info"},[t._v(" "+t._s(t.totalNW)+" ")])]),r("div",{staticClass:"content__catalog"},[r("ProductFilter",{attrs:{memory:t.filterMemory,page:t.page,"color-id":t.filterColor,"price-from":t.filterPriceFrom,"price-to":t.filterPriceTo,"category-id":t.filterCategory,"color-title":t.filterColorTitle},on:{"update:memory":function(e){t.filterMemory=e},"update:page":function(e){t.page=e},"update:colorId":function(e){t.filterColor=e},"update:color-id":function(e){t.filterColor=e},"update:priceFrom":function(e){t.filterPriceFrom=e},"update:price-from":function(e){t.filterPriceFrom=e},"update:priceTo":function(e){t.filterPriceTo=e},"update:price-to":function(e){t.filterPriceTo=e},"update:categoryId":function(e){t.filterCategory=e},"update:category-id":function(e){t.filterCategory=e},"update:colorTitle":function(e){t.filterColorTitle=e},"update:color-title":function(e){t.filterColorTitle=e}}}),r("section",{staticClass:"catalog"},[t.empty?r("div",{staticStyle:{"align-self":"center"}},[r("aside",{staticClass:"filter",staticStyle:{"text-align":"center","max-width":"500px"}},[r("h2",{staticClass:"filter__title",staticStyle:{"line-height":"1.5"}},[t._v("К сожалению, таких товаров нет.")]),r("h3",[t._v("Сбросить все фильтры?")]),r("button",{staticClass:"filter__submit button button--primery",staticStyle:{width:"150px"},on:{click:function(e){return e.preventDefault(),t.reset.apply(null,arguments)}}},[t._v("Да")])])]):t._e(),r("ProductList",{attrs:{products:t.products,filterColor:t.filterColor}}),t.productLoading?r("Preloader"):t._e(),t.productLoadingFailed?r("div",[t._v("Произошла ошибка при загрузке товаров "),r("button",{on:{click:function(e){return e.preventDefault(),t.loadProducts.apply(null,arguments)}}},[t._v("Попробовать еще")])]):t._e(),r("BasePagination",{attrs:{count:t.countProducts,"per-page":t.productsPerPage},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}}),r("fieldset",{staticClass:"form__block",staticStyle:{display:"flex","justify-content":"center","margin-top":"40px"}},[r("p",{staticStyle:{"margin-right":"20px"}},[t._v("Количество товаров на странице")]),r("label",{staticClass:"form__label form__label--select",staticStyle:{width:"140px"}},[r("select",{directives:[{name:"model",rawName:"v-model.number",value:t.productsPerPage,expression:"productsPerPage",modifiers:{number:!0}}],staticClass:"form__select",staticStyle:{border:"1px solid #000",width:"150px"},attrs:{type:"text",name:"productsPerPage"},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(e){var r="_value"in e?e._value:e.value;return t._n(r)}));t.productsPerPage=e.target.multiple?r:r[0]}}},[r("option",{attrs:{value:"0"}},[t._v("Выбрать")]),t._l(t.productsPerPageArray,(function(e){return r("option",{key:e,domProps:{value:e}},[t._v(t._s(e))])}))],2)])])],1)],1)])},y=[],P=(r("d81d"),r("07ac"),r("159b"),r("99af"),r("fb6a"),"https://vue-tzr.skillbox.cc"),k={API_BASE_URL:P},I=r("bc3a"),T=r.n(I),A=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ul",{staticClass:"catalog__list"},t._l(t.products,(function(e){return r("ProductItem",{key:e.id,attrs:{filterColor:t.filterColor,product:e}})})),1)},x=[],D=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("li",{staticClass:"catalog__item"},[r("router-link",{staticClass:"catalog__pic",attrs:{to:{name:"product",params:{id:t.product.id}}}},[r("img",{attrs:{src:t.product.image,alt:t.product.title}})]),r("transition",{attrs:{name:"moveToCart"}},[t.productAdded?r("img",{staticClass:"abs_position catalog__pic",attrs:{src:t.product.image,alt:t.product.title}}):t._e()]),r("h3",{staticClass:"catalog__title"},[r("a",{attrs:{href:"#"}},[t._v(" "+t._s(t.product.title)+" ")])]),r("span",{staticClass:"catalog__price"},[t._v(" "+t._s(t._f("numberFormat")(t.price))+" ₽ ")]),r("div",{staticStyle:{display:"flex","justify-content":"space-between","margin-right":"20px"}},["color"===t.product.mainProp.code?r("ul",{staticClass:"colors colors--black"},t._l(t.colorsList,(function(e){return r("li",{key:e.id+"_"+t.product.id,staticClass:"colors__item"},[r("label",{staticClass:"colors__label"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedColor,expression:"selectedColor"}],staticClass:"colors__radio sr-only",attrs:{name:"color",type:"radio"},domProps:{value:e,checked:t._q(t.selectedColor,e)},on:{change:function(r){t.selectedColor=e}}}),r("span",{staticClass:"colors__value",class:{border:"#fafafa"===e.color.code,checkedItem:e.color.id===t.checked},style:{backgroundColor:e.color.code}})])])})),0):t._e(),"color"!==t.product.mainProp.code&&"battery_power"!==t.product.mainProp.code&&"construction_type"!==t.product.mainProp.code?r("ul",{staticClass:"colors colors--black sizes"},t._l(this.product.offers,(function(e){return r("li",{key:e.propValues[0].value,staticClass:"sizes__item"},[r("label",{staticClass:"sizes__label"},[r("input",{directives:[{name:"model",rawName:"v-model.number",value:t.currentPropId,expression:"currentPropId",modifiers:{number:!0}}],staticClass:"sizes__radio sr-only",attrs:{type:"radio",name:"sizes-item"},domProps:{value:e.id,checked:t._q(t.currentPropId,t._n(e.id))},on:{change:function(r){t.currentPropId=t._n(e.id)}}}),r("span",{staticClass:"sizes__value",class:{checked_prop:e.id===t.selectedProp}},[t._v(" "+t._s(e.propValues[0].value)+" ")])])])})),0):r("div"),r("div",{staticClass:"icon__block",class:{added:t.productAdded}},[r("img",{staticClass:"cart__icon",attrs:{alt:"cart",src:"img/cart.png"},on:{click:function(e){return e.preventDefault(),t.addToCart.apply(null,arguments)}}})])])],1)},O=[],w=r("53ca"),E=(r("7db0"),new a["a"]);function $(t,e){E.$emit("goToPage",t,e)}function j(t){return(new Intl.NumberFormat).format(t)}var F={data:function(){return{selectedColor:this.product.colors[0].color.id,productAdded:!1,currentPropId:0}},props:["product","filterColor"],filters:{numberFormat:j},computed:{price:function(){var t=this;return 0===this.currentPropId?this.product.offers[0].price:this.product.offers.find((function(e){return e.id===t.currentPropId})).price},selectedProp:function(){return 0===this.currentPropId?this.product.offers[0].id:this.currentPropId},colorsList:function(){return this.product.colors},checked:function(){return 0===this.filterColor?this.selectedColor:this.filterColor}},methods:Object(i["a"])(Object(i["a"])({goToPage:$},Object(l["b"])(["addProductToCart","loadCart"])),{},{addToCart:function(){var t=this;this.productAdded=!1;var e="object"===Object(w["a"])(this.selectedColor)?this.selectedColor.color.id:this.selectedColor;this.addProductToCart({productId:this.product.offers[0].id,amount:1,colorId:e}).then((function(){t.productAdded=!0})).catch((function(){t.productAdded=!1,t.addProductToCart({productId:t.product.offers[0].id,amount:1,colorId:e}).then((function(){t.productAdded=!0})).catch((function(){t.productAdded=!1}))}))}})},S=F,L=Object(m["a"])(S,D,O,!1,null,null,null),N=L.exports,B={components:{ProductItem:N},props:["products","filterColor"]},M=B,K=Object(m["a"])(M,A,x,!1,null,null,null),z=K.exports,U=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"loader"},[t._v("Загрузка...")])},q=[],W={},V=W,R=Object(m["a"])(V,U,q,!1,null,null,null),G=R.exports,J=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("aside",{staticClass:"filter"},[r("h2",{staticClass:"filter__title"},[t._v("Фильтры")]),r("form",{staticClass:"filter__form form",attrs:{action:"#",method:"get"},on:{submit:function(e){return e.preventDefault(),t.submit.apply(null,arguments)}}},[r("fieldset",{staticClass:"form__block"},[r("legend",{staticClass:"form__legend"},[t._v("Цена")]),r("label",{staticClass:"form__label form__label--price"},[r("input",{directives:[{name:"model",rawName:"v-model.number",value:t.currentPriceFrom,expression:"currentPriceFrom",modifiers:{number:!0}}],staticClass:"form__input",attrs:{type:"text",name:"min-price"},domProps:{value:t.currentPriceFrom},on:{input:function(e){e.target.composing||(t.currentPriceFrom=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),r("span",{staticClass:"form__value"},[t._v("От")])]),r("label",{staticClass:"form__label form__label--price"},[r("input",{directives:[{name:"model",rawName:"v-model.number",value:t.currentPriceTo,expression:"currentPriceTo",modifiers:{number:!0}}],staticClass:"form__input",attrs:{type:"text",name:"max-price"},domProps:{value:t.currentPriceTo},on:{input:function(e){e.target.composing||(t.currentPriceTo=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),r("span",{staticClass:"form__value"},[t._v("До")])])]),r("fieldset",{staticClass:"form__block"},[r("legend",{staticClass:"form__legend"},[t._v("Категория")]),r("label",{staticClass:"form__label form__label--select"},[r("select",{directives:[{name:"model",rawName:"v-model.number",value:t.currentCategoryId,expression:"currentCategoryId",modifiers:{number:!0}}],staticClass:"form__select",attrs:{type:"text",name:"category"},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(e){var r="_value"in e?e._value:e.value;return t._n(r)}));t.currentCategoryId=e.target.multiple?r:r[0]}}},[r("option",{attrs:{value:"0"}},[t._v("Все категории")]),t._l(t.categories,(function(e){return r("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.title))])}))],2)])]),r("fieldset",{staticClass:"form__block"},[r("legend",{staticClass:"form__legend"},[t._v("Цвет")]),r("ul",{staticClass:"colors"},t._l(t.colors,(function(e){return r("li",{key:e.id,staticClass:"colors__item"},[r("label",{staticClass:"colors__label"},[r("input",{directives:[{name:"model",rawName:"v-model.number",value:t.currentColorId,expression:"currentColorId",modifiers:{number:!0}}],staticClass:"colors__radio sr-only",attrs:{name:"color",type:"radio"},domProps:{value:e.id,checked:t._q(t.currentColorId,t._n(e.id))},on:{change:function(r){t.currentColorId=t._n(e.id)}}}),r("span",{staticClass:"colors__value",style:{backgroundColor:e.code}})])])})),0)]),r("fieldset",{staticClass:"form__block"},[r("legend",{staticClass:"form__legend"},[t._v("Объемб в ГБ")]),r("ul",{staticClass:"check-list"},t._l(t.memoryArray,(function(e,a){return r("li",{key:a,staticClass:"check-list__item"},[r("label",{staticClass:"check-list__label"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.currentMemory,expression:"currentMemory"}],staticClass:"check-list__check sr-only",attrs:{type:"checkbox",name:"memory"},domProps:{value:e,checked:Array.isArray(t.currentMemory)?t._i(t.currentMemory,e)>-1:t.currentMemory},on:{change:function(r){var a=t.currentMemory,o=r.target,s=!!o.checked;if(Array.isArray(a)){var i=e,c=t._i(a,i);o.checked?c<0&&(t.currentMemory=a.concat([i])):c>-1&&(t.currentMemory=a.slice(0,c).concat(a.slice(c+1)))}else t.currentMemory=s}}}),r("span",{staticClass:"check-list__desc"},[t._v(" "+t._s(e)+" "),r("span",[t._v(" ("+t._s(t.number[e])+")")])])])])})),0)]),r("button",{staticClass:"filter__submit button button--primery",attrs:{type:"submit"}},[t._v("Применить ")]),r("button",{staticClass:"filter__reset button button--second",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.reset.apply(null,arguments)}}},[t._v(" Сбросить ")])])])},Q=[],Z={props:["priceFrom","priceTo","categoryId","colorId","page","colorTitle","memory"],data:function(){return{currentPriceFrom:0,currentPriceTo:0,currentCategoryId:0,currentColorId:0,currentColorTitle:"",memoryArray:[8,16,32,64,128,264],currentMemory:[8,16,32,64,128,264],startPage:1,categoriesData:null,colorsData:null,number:{}}},computed:{categories:function(){return this.categoriesData?this.categoriesData.items:[]},colors:function(){return this.colorsData?this.colorsData.items:[]},colorTitleCalc:function(){var t=0===this.currentColorId?1:this.currentColorId;return this.colors.find((function(e){return e.id===t})).title||""}},watch:{priceFrom:function(t){this.currentPriceFrom=t},memory:function(t){this.currentMemory=t},priceTo:function(t){this.currentPriceTo=t},categoryId:function(t){this.currentCategoryId=t},colorId:function(t){var e=0===t?1:t;this.currentColorTitle=this.colors.find((function(t){return t.id===e})).title,this.currentColorId=t}},methods:{submit:function(){this.$emit("update:priceFrom",this.currentPriceFrom),this.$emit("update:priceTo",this.currentPriceTo),this.$emit("update:categoryId",this.currentCategoryId),this.$emit("update:colorId",this.currentColorId),this.$emit("update:memory",this.currentMemory),this.$emit("update:colorTitle",this.colorTitleCalc),this.$emit("update:page",this.startPage)},reset:function(){this.$emit("update:priceFrom",0),this.$emit("update:priceTo",0),this.$emit("update:categoryId",0),this.$emit("update:colorId",0),this.$emit("update:memory",[8,16,32,64,128,264]),this.$emit("update:colorTitle",""),this.$emit("update:page",1)},loadItemsNumber:function(){var t=this;this.memoryArray.forEach((function(e){T.a.get("".concat(k.API_BASE_URL,"/api/products?props[built_in_memory][]=").concat(e,"GB")).then((function(r){t.number[e]=r.data.items.length}))}))},loadCategories:function(){var t=this;clearTimeout(this.loadCaregoriesTimer),this.loadCaregoriesTimer=setTimeout((function(){T.a.get("".concat(k.API_BASE_URL,"/api/productCategories")).then((function(e){t.categoriesData=e.data}))}),0)},loadColors:function(){var t=this;clearTimeout(this.loadColorsTimer),this.loadColorsTimer=setTimeout((function(){T.a.get("".concat(k.API_BASE_URL,"/api/colors")).then((function(e){t.colorsData=e.data}))}),0)}},created:function(){this.loadCategories(),this.loadColors(),this.loadItemsNumber()}},H=Z,X=Object(m["a"])(H,J,Q,!1,null,null,null),Y=X.exports,tt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ul",{staticClass:"catalog__pagination pagination"},[r("li",{staticClass:"pagination__item"},[r("a",{directives:[{name:"show",rawName:"v-show",value:1!==t.page,expression:"page !== 1"}],staticClass:"pagination__link pagination__link--arrow",attrs:{href:"#","aria-label":"Предыдущая страница"},on:{click:function(e){return e.preventDefault(),t.paginate(t.page-1)}}},[r("svg",{attrs:{width:"8",height:"14",fill:"currentColor"}},[r("use",{attrs:{"xlink:href":"#icon-arrow-left"}})])])]),t._l(t.pages,(function(e){return r("li",{key:e,staticClass:"pagination__item"},[r("a",{staticClass:"pagination__link",class:{"pagination__link--current":e===t.page},attrs:{href:"#"},on:{click:function(r){return r.preventDefault(),t.paginate(e)}}},[t._v(" "+t._s(e)+" ")])])})),r("li",{staticClass:"pagination__item"},[r("a",{directives:[{name:"show",rawName:"v-show",value:t.pages>t.page,expression:"pages > page"}],staticClass:"pagination__link pagination__link--arrow",attrs:{href:"#","aria-label":"Следующая страница"},on:{click:function(e){return e.preventDefault(),t.paginate(t.page+1)}}},[r("svg",{attrs:{width:"8",height:"14",fill:"currentColor"}},[r("use",{attrs:{"xlink:href":"#icon-arrow-right"}})])])])],2)},et=[],rt={model:{prop:"page",event:"paginate"},props:["page","count","perPage"],computed:{pages:function(){return Math.ceil(this.count/this.perPage)},previousPage:function(t){return t<=1},nextPage:function(t){return t>=Math.ceil(this.count/this.perPage)}},methods:{paginate:function(t){this.$emit("paginate",t)}}},at=rt,ot=Object(m["a"])(at,tt,et,!1,null,null,null),st=ot.exports;r("d3b7"),r("25f0");function it(t){var e="товар",r=t.toString().slice(-1);return t>=2&&t<=4||t>20&&r>=2&&r<=4?e="товара":(t>=5&&t<=20||t>20&&r>=5&&r<=9||t%10===0&&20!==t)&&(e="товаров"),"".concat(t," ").concat(e)}var ct={components:{ProductList:z,BasePagination:st,ProductFilter:Y,Preloader:G},data:function(){return{filterPriceFrom:0,filterPriceTo:0,filterCategory:0,filterColor:0,filterMemory:[],filterColorTitle:"",productsPerPageArray:[9,12,18,24,27,32],productsPerPage:12,page:1,productsData:null,categoriesData:0,productLoading:!1,productLoadingFailed:!1,empty:!1}},computed:{products:function(){return this.productsData?this.productsData.items.map((function(t){var e=Object(i["a"])(Object(i["a"])({},t),{},{image:t.preview.file.url});return e})):[]},countProducts:function(){return this.productsData?this.productsData.pagination.total:0},totalNW:function(){var t=this.productsData?this.productsData.pagination.total:0;return it(t)}},watch:{page:function(){this.loadProducts()},filterPriceFrom:function(){this.loadProducts()},filterPriceTo:function(){this.loadProducts()},filterCategory:function(){this.loadProducts()},filterColor:function(){this.loadProducts()},productsPerPage:function(){this.loadProducts()},filterMemory:function(){this.loadProducts()}},methods:{reset:function(){this.filterPriceFrom=0,this.filterPriceTo=0,this.filterCategory=0,this.filterColor=0,this.filterMemory=[],this.filterColorTitle="",this.loadProducts()},loadProducts:function(){var t=this;this.productLoading=!0,this.productLoadingFailed=!1,clearTimeout(this.loadProductsTimer),this.loadProductsTimer=setTimeout((function(){var e="";0!==t.filterColorTitle.length&&0!==t.filterColor&&(e="?props[color][]=".concat(t.filterColorTitle));var r="";if(0!==t.filterMemory.length&&6!==t.filterMemory.length){var a=Object(i["a"])({},t.filterMemory),o=Object.values(a);r=""===e?"?":"&",o.forEach((function(t){r+="props[built_in_memory][]=".concat(t,"GB&")}))}console.log(r),t.empty=!1,T.a.get("".concat(k.API_BASE_URL,"/api/products").concat(e).concat(r.slice(0,-1)),{params:{page:t.page,limit:t.productsPerPage,minPrice:0===t.filterPriceFrom||"0"===t.filterPriceFrom||""===t.filterPriceFrom?null:t.filterPriceFrom,maxPrice:0===t.filterPriceTo||"0"===t.filterPriceTo||""===t.filterPriceTo?null:t.filterPriceTo,categoryId:0===t.filterCategory||"0"===t.filterCategory||""===t.filterCategory?null:t.filterCategory}}).then((function(e){t.productsData=e.data,t.empty=0===e.data.pagination.total})).catch((function(){t.productLoadingFailed=!0})).then((function(){t.productLoading=!1}))}),200)}},created:function(){this.loadProducts()}},nt=ct,lt=Object(m["a"])(nt,g,y,!1,null,null,null),ut=lt.exports,dt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},mt=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("main",{staticClass:"content container"},[r("h1",[t._v("Страница не найдена")])])}],pt={},_t=pt,ft=Object(m["a"])(_t,dt,mt,!1,null,null,null),ht=ft.exports,vt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.productLoading?r("main",{staticClass:"content container"},[r("Preloader")],1):t.productData?r("main",{staticClass:"content container"},[r("div",{staticClass:"content__top"},[r("ul",{staticClass:"breadcrumbs"},[r("li",{staticClass:"breadcrumbs__item"},[r("router-link",{staticClass:"breadcrumbs__link",attrs:{to:{name:"main"}}},[t._v(" Каталог ")])],1),r("li",{staticClass:"breadcrumbs__item"},[r("router-link",{staticClass:"breadcrumbs__link",attrs:{to:{name:"main"}}},[t._v(" "+t._s(t.category.title)+" ")])],1),r("li",{staticClass:"breadcrumbs__item"},[r("a",{staticClass:"breadcrumbs__link"},[t._v(" "+t._s(t.product.title)+" ")])])])]),r("section",{staticClass:"item"},[r("div",{staticClass:"item__pics pics"},[r("div",{staticClass:"pics__wrapper",staticStyle:{position:"relative"}},[r("img",{attrs:{width:"570",height:"570",src:t.imgsList[t.currentImg],alt:t.product.title}}),r("transition",{attrs:{name:"fade"}},[t.transition?r("img",{staticClass:"abs_position",attrs:{width:"570",height:"570",src:t.imgsList[t.currentImg],alt:t.product.title}}):t._e()])],1),r("ul",{staticClass:"pics__list"},t._l(t.imgsList,(function(e,a){return r("li",{key:a,staticClass:"pics__item"},[r("label",[r("input",{directives:[{name:"model",rawName:"v-model.number",value:t.currentImg,expression:"currentImg",modifiers:{number:!0}}],staticClass:"img_input",attrs:{name:"img",type:"radio"},domProps:{value:a,checked:t._q(t.currentImg,t._n(a))},on:{change:function(e){t.currentImg=t._n(a)}}}),r("div",{staticClass:"pics__link cursor-pointer",class:{"pics__link--current":t.currentImg==a}},[r("img",{attrs:{width:"98",height:"159",src:e,alt:t.product.title}})])])])})),0)]),r("div",{staticClass:"item__info"},[r("span",{staticClass:"item__code"},[t._v("Артикул: "+t._s(t.product.id))]),r("h2",{staticClass:"item__title"},[t._v(" "+t._s(t.title)+" ("+t._s(t.colorWord)+") ")]),r("div",{staticClass:"item__form"},[r("form",{staticClass:"form",attrs:{action:"#",method:"POST"},on:{submit:function(e){return e.preventDefault(),t.addToCart.apply(null,arguments)}}},[r("b",{staticClass:"item__price"},[t._v(" "+t._s(t._f("numberFormat")(t.price))+" ₽ ")]),r("fieldset",{staticClass:"form__block"},[r("legend",{staticClass:"form__legend"},[t._v("Цвет:")]),r("ul",{staticClass:"colors"},t._l(t.colorsList,(function(e){return r("li",{key:e.id,staticClass:"colors__item"},[r("label",{staticClass:"colors__label"},[r("input",{directives:[{name:"model",rawName:"v-model.number",value:t.currentColorId,expression:"currentColorId",modifiers:{number:!0}}],staticClass:"colors__radio sr-only",attrs:{name:"color",type:"radio"},domProps:{value:e.color.id,checked:t._q(t.currentColorId,t._n(e.color.id))},on:{change:function(r){t.currentColorId=t._n(e.color.id)}}}),r("span",{staticClass:"colors__value",class:{checkedItem:e.color.id===t.selectedColor},style:{backgroundColor:e.color.code}})])])})),0)]),r("fieldset",{directives:[{name:"show",rawName:"v-show",value:7!==t.product.mainProp.id,expression:"product.mainProp.id !== 7"}],staticClass:"form__block"},[r("legend",{staticClass:"form__legend"},[t._v(t._s(t.product.mainProp.title)+":")]),r("ul",{staticClass:"sizes sizes--primery"},t._l(this.product.offers,(function(e){return r("li",{key:e.propValues[0].value,staticClass:"sizes__item"},[r("label",{staticClass:"sizes__label"},[r("input",{directives:[{name:"model",rawName:"v-model.number",value:t.currentPropId,expression:"currentPropId",modifiers:{number:!0}}],staticClass:"sizes__radio sr-only",attrs:{type:"radio",name:"sizes-item"},domProps:{value:e.id,checked:t._q(t.currentPropId,t._n(e.id))},on:{change:function(r){t.currentPropId=t._n(e.id)}}}),r("span",{staticClass:"sizes__value",class:{checked_memory:e.id===t.selectedProp}},[t._v(" "+t._s(e.propValues[0].value)+" ")])])])})),0)]),r("div",{staticClass:"item__row"},[r("AmountBlock",{attrs:{productAmount:t.productAmount,size:t.size},on:{"update:productAmount":function(e){t.productAmount=e},"update:product-amount":function(e){t.productAmount=e}}}),r("button",{staticClass:"button button--primery",attrs:{type:"submit",disabled:t.productAddSending},on:{click:function(e){t.transition=!t.transition}}},[t._v(" В корзину ")])],1),r("div",{directives:[{name:"show",rawName:"v-show",value:t.productAdded,expression:"productAdded"}]},[r("br"),t._v("Товар добавлен в корзину")]),r("div",{directives:[{name:"show",rawName:"v-show",value:t.productAddSending,expression:"productAddSending"}]},[t._v("Добавление товара в корзину...")])])])]),r("div",{staticClass:"item__desc"},[r("ul",{staticClass:"tabs"},t._l(t.tabsList,(function(e,a){return r("li",{key:a,staticClass:"tabs__item"},[r("label",[r("input",{directives:[{name:"model",rawName:"v-model.number",value:t.currentTab,expression:"currentTab",modifiers:{number:!0}}],staticClass:"img_input",attrs:{name:"tab",type:"radio"},domProps:{value:a,checked:t._q(t.currentTab,t._n(a))},on:{change:function(e){t.currentTab=t._n(a)}}}),r("div",{staticClass:"tabs__link cursor-pointer",class:{"tabs__link--current":t.currentTab==a}},[t._v(" "+t._s(e)+" ")])])])})),0),0===t.currentTab?r("div",{staticClass:"item__content"},[t._m(0),r("button",{staticClass:"item__content--button",on:{click:function(e){return e.preventDefault(),t.changeTab.apply(null,arguments)}}},[t._v(" Все характеристики ")]),r("h3",[t._v("Что это?")]),r("p",[t._v(" Wahoo ELEMNT BOLT GPS – это велокомпьютер, который позволяет оптимизировать свои велотренировки, сделав их максимально эффективными. Wahoo ELEMNT BOLT GPS синхронизируется с датчиками по ANT+, объединяя полученную с них информацию. Данные отображаются на дисплее, а также сохраняются на смартфоне. При этом на мобильное устройство можно установить как фирменное приложение, так и различные приложения сторонних разработчиков. Велокомпьютер точно отслеживает местоположение, принимая сигнал с целого комплекса спутников. Эта информация позволяет смотреть уже преодоленные маршруты и планировать новые велопрогулки. ")]),r("h3",[t._v("Дизайн")]),r("p",[t._v(" Велокомпьютер Wahoo ELEMNT BOLT очень компактный. Размеры устройства составляют всего 74,6 x 47,3 x 22,1 мм. что не превышает габариты смартфона. Корпус гаджета выполнен из черного пластика. На обращенной к пользователю стороне расположен дисплей диагональю 56 мм. На дисплей выводятся координаты и скорость, а также полученная со смартфона и синхронизированных датчиков информация: интенсивность, скорость вращения педалей, пульс и т.д. (датчики не входят в комплект поставки). Корпус велокомпьютера имеет степень защиты от влаги IPX7. Это означает, что устройство не боится пыли, а также выдерживает кратковременное (до 30 минут) погружение в воду на глубину не более 1 метра. ")])]):t._e(),1===t.currentTab?r("div",{staticClass:"item__content"},[t._m(1)]):t._e(),2===t.currentTab?r("div",{staticClass:"item__content"},[r("p",[t._v("Срок гарантии: 1 год")])]):t._e(),3===t.currentTab?r("div",{staticClass:"item__content"},[r("h3",[t._v("Самовывоз")]),r("p",[t._v("Бесплатно. Данную опцию Вы сможете выбрать при оформлении заказа.")]),r("h3",[t._v("Курьером")]),r("p",[t._v("Цена доставки курьером составляет 500 рублей. Данную опцию Вы сможете выбрать при оформлении заказа. Доставка будет включена в стоимость.")])]):t._e()])])]):r("main",{staticClass:"content container"},[t._v("Не удалось загрузить товар")])},Ct=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("p",[t._v(" Навигация GPS, ГЛОНАСС, BEIDOU Galileo и QZSS"),r("br"),t._v(" Синхронизация со смартфоном"),r("br"),t._v(" Связь по Bluetooth Smart, ANT+ и Wi-Fi"),r("br"),t._v(" Поддержка сторонних приложений"),r("br")])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("p",[t._v(" Навигация GPS, ГЛОНАСС, BEIDOU Galileo и QZSS"),r("br"),t._v(" Синхронизация со смартфоном"),r("br"),t._v(" Связь по Bluetooth Smart, ANT+ и Wi-Fi"),r("br"),t._v(" Поддержка сторонних приложений"),r("br"),t._v(" аккумулятор: 3000 мА·ч"),r("br"),t._v(" процессор: Mediatek Helio P22 (MT6762V)"),r("br"),t._v(" SIM-карты: 2 (nano SIM)"),r("br"),t._v(" операционная система: Android 8.1"),r("br"),t._v(" беспроводные интерфейсы: Wi-Fi, Bluetooth 4.2"),r("br"),t._v(" интернет: 4G LTE"),r("br"),t._v(" вес: 145 г"),r("br")])}],bt=(r("ac1f"),r("5319"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"form__counter",class:{product__counter:10===t.size}},[r("button",{class:{pointer:t.productAmount>1,disabled:t.productAmount<=1},attrs:{type:"button","aria-label":"Убрать один товар"},on:{click:t.dec}},[r("svg",{attrs:{width:"12",height:"12",fill:"currentColor"}},[r("use",{attrs:{"xlink:href":"#icon-minus"}})])]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.currentProductAmount,expression:"currentProductAmount"}],attrs:{type:"text"},domProps:{value:t.currentProductAmount},on:{change:t.addItem,input:function(e){e.target.composing||(t.currentProductAmount=e.target.value)}}}),r("button",{class:{pointer:t.productAmount>=1},attrs:{type:"button","aria-label":"Добавить один товар"},on:{click:t.inc}},[r("svg",{attrs:{width:t.size,height:t.size,fill:"currentColor"}},[r("use",{attrs:{"xlink:href":"#icon-plus"}})])])])}),gt=[],yt={props:["productAmount","size"],data:function(){return{currentProductAmount:this.productAmount}},watch:{productAmount:function(t){this.currentProductAmount=t}},methods:{addItem:function(){var t=Math.abs(this.currentProductAmount.replace(/\D+/g,""));this.$emit("update:productAmount",t)},inc:function(){this.$emit("update:productAmount",this.currentProductAmount+1)},dec:function(){this.currentProductAmount>1&&this.$emit("update:productAmount",this.currentProductAmount-1)}}},Pt=yt,kt=Object(m["a"])(Pt,bt,gt,!1,null,null,null),It=kt.exports,Tt={components:{AmountBlock:It,Preloader:G},data:function(){return{transition:!1,currentColorId:0,currentPropId:0,productAmount:1,size:12,productData:null,productLoading:!1,productLoadingFailed:!1,productAdded:!1,productAddSending:!1,currentImg:0,currentTab:0}},filters:{numberFormat:j},computed:{price:function(){var t=this;return this.productData.offers.find((function(e){return e.id===t.selectedProp})).price},title:function(){var t=this;return this.productData.offers.find((function(e){return e.id===t.selectedProp})).title.replace(/ *\([^)]*\) */g,"")},colorWord:function(){var t=this;return this.colorsList.find((function(e){return e.color.id===t.selectedColor})).color.title},imgsList:function(){return[this.product.preview.file.url,"http://placehold.it/98x159/"]},selectedColor:function(){return 0===this.$store.state.filterColor?0===this.currentColorId?this.product.colors[0].color.id:this.currentColorId:this.$store.state.filterColor},selectedProp:function(){return 0===this.currentPropId?this.product.offers[0].id:this.currentPropId},product:function(){return this.productData},category:function(){return this.productData.category},tabsList:function(){return["Описание","Характеристики","Гарантия","Оплата и доставка"]},colorsList:function(){return this.product.colors},memoryArray:function(){return this.product.offers}},methods:Object(i["a"])(Object(i["a"])({},Object(l["b"])(["addProductToCart"])),{},{goToPage:$,addToCart:function(){var t=this;this.productAdded=!1,this.productAmount>=1&&this.addProductToCart({productId:this.selectedProp,amount:this.productAmount,colorId:this.selectedColor}).then((function(){t.productAdded=!0,t.productAddSending=!1}))},loadProduct:function(){var t=this,e="".concat(k.API_BASE_URL,"/api/products/").concat(this.$route.params.id);T.a.get(e).then((function(e){t.productData=e.data})).catch((function(){t.productLoadingFailed=!0})).then((function(){t.productLoading=!1}))},changeTab:function(){this.currentTab=1}}),created:function(){this.loadProduct()},watch:{"$route.params.id":{handler:function(){this.loadProduct()}}}},At=Tt,xt=Object(m["a"])(At,vt,Ct,!1,null,null,null),Dt=xt.exports,Ot=function(){var t=this,e=t.$createElement,r=t._self._c||e;return"error"===t.products?r("main",{staticClass:"content container"},[r("h2",[t._v("Возникла ошибка")])]):t.products.length<1?r("main",{staticClass:"content container"},[t._m(0),r("h2",[t._v("Корзина пуста")])]):r("main",{staticClass:"content container"},[r("div",{staticClass:"content__top"},[t._m(1),r("h1",{staticClass:"content__title"},[t._v(" Корзина ")]),r("span",{staticClass:"content__info"},[t._v(" "+t._s(t.totalNW)+" ")])]),r("section",{staticClass:"cart"},[r("form",{staticClass:"cart__form form",attrs:{action:"#",method:"POST"}},[r("div",{staticClass:"cart__field"},[r("ul",{staticClass:"cart__list"},t._l(t.products,(function(t){return r("CartItem",{key:t.product.id,attrs:{item:t.product,amount:t.amount}})})),1)]),r("div",{staticClass:"cart__block"},[r("p",{staticClass:"cart__desc"},[t._v(" Мы посчитаем стоимость доставки на следующем этапе ")]),r("p",{staticClass:"cart__price"},[t._v(" Итого: "),r("span",[t._v(t._s(t._f("numberFormat")(t.totalPrice))+" ₽")])]),r("router-link",{staticClass:"cart__button button button--primery",attrs:{tag:"button",to:{name:"order"},type:"submit"}},[t._v(" Оформить заказ ")])],1)])])])},wt=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"content__top"},[r("ul",{staticClass:"breadcrumbs"},[r("li",{staticClass:"breadcrumbs__item"},[r("a",{staticClass:"breadcrumbs__link",attrs:{href:"index.html"}},[t._v(" Каталог ")])]),r("li",{staticClass:"breadcrumbs__item"},[r("a",{staticClass:"breadcrumbs__link"},[t._v(" Корзина ")])])]),r("h1",{staticClass:"content__title"},[t._v(" Корзина ")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ul",{staticClass:"breadcrumbs"},[r("li",{staticClass:"breadcrumbs__item"},[r("a",{staticClass:"breadcrumbs__link",attrs:{href:"index.html"}},[t._v(" Каталог ")])]),r("li",{staticClass:"breadcrumbs__item"},[r("a",{staticClass:"breadcrumbs__link"},[t._v(" Корзина ")])])])}],Et=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("li",{staticClass:"cart__item product"},[r("div",{staticClass:"product__pic"},[r("img",{attrs:{src:t.item.image,width:"120",height:"120",srcset:"img/phone-square-3@2x.jpg 2x",alt:"item.productOffer.title"}})]),r("h3",{staticClass:"product__title"},[t._v(" "+t._s(t.item.productOffer.title)+" ")]),r("p",{directives:[{name:"show",rawName:"v-show",value:"built_in_memory"===t.item.productOffer.product.mainProp.code,expression:"item.productOffer.product.mainProp.code === 'built_in_memory'"}],staticClass:"product__info"},[t._v(" Объем: "),r("span",[t._v(t._s(t.item.productOffer.propValues[0].value))])]),r("p",{staticClass:"product__info product__info--color",staticStyle:{"margin-top":"50px"}},[t._v(" Цвет: "),r("span",[r("i",{style:{backgroundColor:t.item.color.color.code}}),t._v(" "+t._s(t.item.color.color.title)+" ")])]),r("span",{staticClass:"product__code"},[t._v(" Артикул: "+t._s(t.item.id)+" ")]),r("AmountBlock",{attrs:{productAmount:t.productAmount,size:t.size},on:{"update:productAmount":function(e){t.productAmount=e},"update:product-amount":function(e){t.productAmount=e}}}),r("b",{staticClass:"product__price"},[t._v(" "+t._s(t._f("numberFormat")(t.item.price*t.amount))+" ₽ ")]),r("button",{staticClass:"product__del button-del pointer",attrs:{type:"button","aria-label":"Удалить товар из корзины"},on:{click:function(e){return e.preventDefault(),t.deleteProduct(t.item.id)}}},[r("svg",{attrs:{width:"20",height:"20",fill:"currentColor"}},[r("use",{attrs:{"xlink:href":"#icon-close"}})])])],1)},$t=[],jt={components:{AmountBlock:It},props:["item","amount"],filters:{numberFormat:j},data:function(){return{size:10}},computed:{productAmount:{get:function(){return this.amount},set:function(t){return t>0?this.$store.dispatch("updateCartProductAmount",{productId:this.item.id,amount:t}):this.$store.dispatch("updateCartProductAmount",{productId:this.item.id,amount:1})}}},methods:Object(i["a"])(Object(i["a"])({},Object(l["b"])(["deleteCartProduct"])),{},{deleteProduct:function(t){this.deleteCartProduct({productId:t})}})},Ft=jt,St=Object(m["a"])(Ft,Et,$t,!1,null,null,null),Lt=St.exports,Nt={components:{CartItem:Lt},filters:{numberFormat:j},computed:Object(i["a"])(Object(i["a"])(Object(i["a"])({},Object(l["c"])({products:"cartDetailProducts",totalPrice:"cartTotalPrice",totalLeng:"totalNumber"})),Object(l["b"])(["loadCart"])),{},{totalNW:function(){console.log(this.products);var t=this.products.reduce((function(t,e){return e.amount+t}),0);return it(t)}})},Bt=Nt,Mt=Object(m["a"])(Bt,Ot,wt,!1,null,null,null),Kt=Mt.exports,zt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("main",{staticClass:"content container"},[r("div",{staticClass:"content__top"},[t._m(0),r("h1",{staticClass:"content__title"},[t._v(" Корзина ")]),r("span",{staticClass:"content__info"},[t._v(" "+t._s(t.totalNW)+" ")])]),r("section",{staticClass:"cart"},[r("form",{staticClass:"cart__form form",attrs:{action:"#",method:"POST"},on:{submit:function(e){return e.preventDefault(),t.order.apply(null,arguments)}}},[r("div",{staticClass:"cart__field"},[r("div",{staticClass:"cart__data"},[r("BaseFormText",{attrs:{title:"ФИО",error:t.formError.name,placeholder:"Введите ваше полное имя"},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}}),r("BaseFormText",{attrs:{title:"Адрес доставки",error:t.formError.name,placeholder:"Введите ваш адрес"},model:{value:t.formData.address,callback:function(e){t.$set(t.formData,"address",e)},expression:"formData.address"}}),r("BaseFormText",{attrs:{title:"Телефон",error:t.formError.phone,placeholder:"Введите ваш телефон"},model:{value:t.formData.phone,callback:function(e){t.$set(t.formData,"phone",e)},expression:"formData.phone"}}),r("BaseFormText",{attrs:{title:"Email",error:t.formError.email,placeholder:"Введи ваш Email"},model:{value:t.formData.email,callback:function(e){t.$set(t.formData,"email",e)},expression:"formData.email"}}),r("BaseFormTextArea",{attrs:{title:"Комментарий к заказу",error:t.formError.comment,placeholder:"Ваши пожелания"},model:{value:t.formData.comment,callback:function(e){t.$set(t.formData,"comment",e)},expression:"formData.comment"}})],1),r("div",{staticClass:"cart__options"},[r("h3",{staticClass:"cart__title"},[t._v("Доставка")]),r("ul",{staticClass:"cart__options options"},[r("li",{staticClass:"options__item"},[r("label",{staticClass:"options__label"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.deliveryTypeId,expression:"formData.deliveryTypeId"}],staticClass:"options__radio sr-only",attrs:{type:"radio",name:"delivery",value:"1",error:t.formError.deliveryTypeId},domProps:{checked:t._q(t.formData.deliveryTypeId,"1")},on:{change:function(e){return t.$set(t.formData,"deliveryTypeId","1")}}}),r("span",{staticClass:"options__value",class:{checkedOption:!t.formData.deliveryTypeId}},[t._v(" Самовывоз "),r("b",[t._v("бесплатно")])])])]),r("li",{staticClass:"options__item"},[r("label",{staticClass:"options__label"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.deliveryTypeId,expression:"formData.deliveryTypeId"}],staticClass:"options__radio sr-only",attrs:{type:"radio",name:"delivery",value:"2"},domProps:{checked:t._q(t.formData.deliveryTypeId,"2")},on:{change:function(e){return t.$set(t.formData,"deliveryTypeId","2")}}}),t._m(1)])])]),r("h3",{staticClass:"cart__title"},[t._v("Оплата")]),r("ul",{staticClass:"cart__options options"},[r("li",{staticClass:"options__item"},[r("label",{staticClass:"options__label"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.paymentTypeId,expression:"formData.paymentTypeId"}],staticClass:"options__radio sr-only",class:{checkedOption:!t.formData.paymentTypeId},attrs:{type:"radio",name:"payment",value:"1"},domProps:{checked:t._q(t.formData.paymentTypeId,"1")},on:{change:function(e){return t.$set(t.formData,"paymentTypeId","1")}}}),r("span",{staticClass:"options__value"},[t._v(" Картой при получении ")])])]),r("li",{staticClass:"options__item"},[r("label",{staticClass:"options__label"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.paymentTypeId,expression:"formData.paymentTypeId"}],staticClass:"options__radio sr-only",attrs:{type:"radio",name:"payment",value:"2"},domProps:{checked:t._q(t.formData.paymentTypeId,"2")},on:{change:function(e){return t.$set(t.formData,"paymentTypeId","2")}}}),r("span",{staticClass:"options__value"},[t._v(" Наличными при получении ")])])])])])]),r("div",{staticClass:"cart__block"},[r("OrderProductList",{attrs:{products:t.products,delivery:t.deliveryPrice}}),r("button",{staticClass:"cart__button button button--primery",attrs:{type:"submit"}},[t._v(" Оформить заказ ")])],1),t.formErrorMessage?r("div",{staticClass:"cart__error form__error-block"},[r("h4",[t._v("Заявка не отправлена!")]),r("p",[t._v(" Похоже произошла ошибка. Попробуйте отправить снова или перезагрузите страницу. ")])]):t._e()])])])},Ut=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ul",{staticClass:"breadcrumbs"},[r("li",{staticClass:"breadcrumbs__item"},[r("a",{staticClass:"breadcrumbs__link",attrs:{href:"index.html"}},[t._v(" Каталог ")])]),r("li",{staticClass:"breadcrumbs__item"},[r("a",{staticClass:"breadcrumbs__link",attrs:{href:"cart.html"}},[t._v(" Корзина ")])]),r("li",{staticClass:"breadcrumbs__item"},[r("a",{staticClass:"breadcrumbs__link"},[t._v(" Оформление заказа ")])])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("span",{staticClass:"options__value"},[t._v(" Курьером "),r("b",[t._v("500 ₽")])])}],qt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("BaseFormField",{attrs:{title:t.title,error:t.error}},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.dataValue,expression:"dataValue"}],staticClass:"form__input",attrs:{type:"type",placeholder:t.placeholder},domProps:{value:t.dataValue},on:{input:function(e){e.target.composing||(t.dataValue=e.target.value)}}})])},Wt=[],Vt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("label",{staticClass:"form__label"},[t._t("default"),r("span",{staticClass:"form__value"},[t._v(t._s(t.title))]),t.error?r("span",{staticClass:"form__error"},[t._v(t._s(t.error))]):t._e()],2)},Rt=[],Gt={props:["title","error"]},Jt=Gt,Qt=Object(m["a"])(Jt,Vt,Rt,!1,null,null,null),Zt=Qt.exports,Ht={components:{BaseFormField:Zt},props:["title","error","placeholder","value"],computed:{dataValue:{get:function(){return this.value},set:function(t){this.$emit("input",t)}}}},Xt={props:{type:{default:"text"}},mixins:[Ht]},Yt=Xt,te=Object(m["a"])(Yt,qt,Wt,!1,null,null,null),ee=te.exports,re=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("BaseFormField",{attrs:{title:t.title,error:t.error}},[r("textarea",{directives:[{name:"model",rawName:"v-model",value:t.dataValue,expression:"dataValue"}],staticClass:"form__input form__input--area",attrs:{placeholder:t.placeholder},domProps:{value:t.dataValue},on:{input:function(e){e.target.composing||(t.dataValue=e.target.value)}}})])},ae=[],oe={mixins:[Ht]},se=oe,ie=Object(m["a"])(se,re,ae,!1,null,null,null),ce=ie.exports,ne=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("ul",{staticClass:"cart__orders"},t._l(t.products,(function(e){return r("li",{key:e.id,staticClass:"cart__order"},[r("h3",[t._v(t._s(e.productOffer.title))]),r("b",[t._v(t._s(t._f("numberFormat")(e.price))+" ₽")]),r("b",[t._v(t._s(e.quantity)+" шт.")]),r("span",[t._v("Артикул: "+t._s(e.id))])])})),0),r("div",{staticClass:"cart__total"},[r("p",[t._v("Доставка: "),r("b",[t._v(t._s(t.delivery)+" ₽")])]),r("p",[t._v("Итого: "+t._s(t.totalNW)+" на сумму "),r("b",[t._v(t._s(t._f("numberFormat")(t.totalPrice))+" ₽")])])])])},le=[],ue=(r("a9e3"),{props:{products:{default:[]},delivery:{default:0}},computed:{totalPrice:function(){return Number(this.products.reduce((function(t,e){return e.price*e.quantity+t}),0))+Number(this.delivery)},totalNW:function(){var t=this.products.reduce((function(t,e){return e.quantity+t}),0);return it(t)}},filters:{numberFormat:j}}),de=ue,me=Object(m["a"])(de,ne,le,!1,null,null,null),pe=me.exports,_e={components:{BaseFormText:ee,BaseFormTextArea:ce,OrderProductList:pe},data:function(){return{formData:{deliveryTypeId:1,paymentTypeId:1},formError:{},formErrorMessage:""}},computed:Object(i["a"])(Object(i["a"])({},Object(l["e"])({products:"cartProductsData"})),{},{totalNW:function(){var t=this.products.reduce((function(t,e){return e.quantity+t}),0);return it(t)},deliveryPrice:function(){return console.log(!this.formData.deliveryTypeId),this.formData.deliveryTypeId&&"1"!==this.formData.deliveryTypeId&&1!==this.formData.deliveryTypeId?500:0}}),methods:{order:function(){var t=this;this.formError=[],this.formErrorMessage="",T.a.post("".concat(k.API_BASE_URL,"/api/orders"),Object(i["a"])({},this.formData),{params:{userAccessKey:this.$store.state.userAccessKey}}).then((function(e){t.$store.commit("resetCart"),t.$store.commit("updateOrderInfo",e.data),t.$router.push({name:"orderInfo",params:{id:e.data.id}})})).catch((function(e){t.formError=e.response.data.error.request||{},t.formErrorMessage=e.response.data.error.message.length>0?e.response.data.error.message:"Возникла ошибка, возможно, заполненные не все поля."}))}}},fe=_e,he=Object(m["a"])(fe,zt,Ut,!1,null,null,null),ve=he.exports,Ce=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("main",{staticClass:"content container"},[r("div",{staticClass:"content__top"},[r("ul",{staticClass:"breadcrumbs"},[r("li",{staticClass:"breadcrumbs__item"},[r("router-link",{staticClass:"breadcrumbs__link",attrs:{to:{name:"main"}}},[t._v(" Каталог ")])],1),r("li",{staticClass:"breadcrumbs__item"},[r("router-link",{staticClass:"breadcrumbs__link",attrs:{to:{name:"cart"}}},[t._v(" Корзина ")])],1),t._m(0)]),r("h1",{staticClass:"content__title"},[t._v(" Заказ оформлен "),r("span",[t._v("№ "+t._s(t.$route.params.id))])])]),r("section",{staticClass:"cart"},[r("form",{staticClass:"cart__form form",attrs:{action:"#",method:"POST"}},[r("div",{staticClass:"cart__field"},[r("p",{staticClass:"cart__message"},[t._v(" Благодарим за выбор нашего магазина. На Вашу почту придет письмо с деталями заказа. Наши менеджеры свяжутся с Вами в течение часа для уточнения деталей доставки. ")]),r("ul",{staticClass:"dictionary"},[r("li",{staticClass:"dictionary__item"},[r("span",{staticClass:"dictionary__key"},[t._v(" Получатель ")]),r("span",{staticClass:"dictionary__value"},[t._v(" "+t._s(t.info.name)+" ")])]),r("li",{staticClass:"dictionary__item"},[r("span",{staticClass:"dictionary__key"},[t._v(" Адрес доставки ")]),r("span",{staticClass:"dictionary__value"},[t._v(" "+t._s(t.info.address)+" ")])]),r("li",{staticClass:"dictionary__item"},[r("span",{staticClass:"dictionary__key"},[t._v(" Телефон ")]),r("span",{staticClass:"dictionary__value"},[t._v(" "+t._s(t.info.phone)+" ")])]),r("li",{staticClass:"dictionary__item"},[r("span",{staticClass:"dictionary__key"},[t._v(" Email ")]),r("span",{staticClass:"dictionary__value"},[t._v(" "+t._s(t.info.email)+" ")])]),r("li",{staticClass:"dictionary__item"},[r("span",{staticClass:"dictionary__key"},[t._v(" Способ оплаты ")]),r("span",{staticClass:"dictionary__value"},[t._v(" "+t._s(t.info.paymentType)+" ")])])])]),r("div",{staticClass:"cart__block"},[r("OrderProductList",{attrs:{products:t.info.basket.items,delivery:t.deliveryNumber}})],1)])])])},be=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("li",{staticClass:"breadcrumbs__item"},[r("a",{staticClass:"breadcrumbs__link"},[t._v(" Оформление заказа ")])])}],ge={components:{OrderProductList:pe},computed:Object(i["a"])(Object(i["a"])({},Object(l["e"])({info:"orderInfo"})),{},{deliveryNumber:function(){return 1===this.info.deliveryType.id?0:500}}),created:function(){this.$store.state.orderInfo&&this.$store.state.orderInfo.id===this.$route.params.id||this.$store.dispatch("loadOrderInfo",this.$route.params.id)}},ye=ge,Pe=Object(m["a"])(ye,Ce,be,!1,null,null,null),ke=Pe.exports;a["a"].use(b["a"]),a["a"].config.devtools=!0;var Ie=[{name:"main",component:ut,path:"/"},{name:"product",component:Dt,path:"/product/:id"},{name:"cart",component:Kt,path:"/cart"},{name:"order",component:ve,path:"/order/"},{name:"orderInfo",component:ke,path:"/order/info/:id"},{name:"notFound",component:ht,path:"*"}],Te=new b["a"]({routes:Ie}),Ae=Te;r("4de4");a["a"].use(l["a"]);var xe=new l["a"].Store({state:{cartProducts:[],userAccessKey:null,cartProductsData:[],cartError:!1,orderInfo:null,filterColor:0},mutations:{updateFilterColor:function(t,e){t.filter=e},updateOrderInfo:function(t,e){t.orderInfo=e},resetCart:function(t){t.cartProducts=[],t.cartProductsData=[]},updateCartProductAmount:function(t,e){var r=e.productId,a=e.amount,o=t.cartProducts.find((function(t){return r===t.productId}));o&&(o.amount=a)},updateUserAccessKey:function(t,e){t.userAccessKey=e},updateCartProductsData:function(t,e){t.cartProductsData=e},updateCartError:function(t,e){t.cartError=e},syncCartProducts:function(t){t.cartProducts=t.cartProductsData.map((function(t){var e={productId:t.id,amount:t.quantity};return e}))}},getters:{cartDetailProducts:function(t){return t.cartError?"error":t.cartProducts.map((function(e){var r=t.cartProductsData.find((function(t){return t.id===e.productId})),a=Object(i["a"])(Object(i["a"])({},e),{},{product:Object(i["a"])(Object(i["a"])({},r),{},{image:r.productOffer.product.preview.file.url})});return a}))},cartTotalPrice:function(t,e){return e.cartDetailProducts.reduce((function(t,e){return e.product.price*e.amount+t}),0)},totalNumber:function(t,e){return e.cartDetailProducts.reduce((function(t,e){return e.amount+t}),0)}},actions:{loadOrderInfo:function(t,e){return T.a.get("".concat(k.API_BASE_URL,"/api/orders/").concat(e),{params:{userAccessKey:t.state.userAccessKey}}).then((function(e){t.commit("updateOrderInfo",e.data)}))},loadCart:function(t){return T.a.get("".concat(k.API_BASE_URL,"/api/baskets?userAccessKey=").concat(t.state.userAccessKey)).then((function(e){t.state.userAccessKey||(localStorage.setItem("userAccessKey",e.data.user.accessKey),t.commit("updateUserAccessKey",e.data.user.accessKey)),console.log(e.data.items),t.commit("updateCartProductsData",e.data.items),t.commit("syncCartProducts"),t.commit("updateCartError",!1)})).catch((function(e){console.log(e),t.commit("updateCartProductsData",[]),t.commit("updateCartError",!0)}))},addProductToCart:function(t,e){var r=e.productId,a=e.amount,o=e.colorId;return T.a.post("".concat(k.API_BASE_URL,"/api/baskets/products?userAccessKey=").concat(t.state.userAccessKey),{productOfferId:r,colorId:o,quantity:a}).then((function(e){t.commit("updateCartProductsData",e.data.items),t.commit("syncCartProducts")})).catch((function(){localStorage.removeItem("userAccessKey"),T.a.get("".concat(k.API_BASE_URL,"/api/baskets")).then((function(e){localStorage.setItem("userAccessKey",e.data.user.accessKey),t.commit("updateUserAccessKey",e.data.user.accessKey),T.a.post("".concat(k.API_BASE_URL,"/api/baskets/products?userAccessKey=").concat(t.state.userAccessKey),{productOfferId:r,colorId:o,quantity:a}).then((function(e){t.commit("updateCartProductsData",e.data.items),t.commit("syncCartProducts")})),t.commit("updateCartError",!1)})).catch((function(){t.commit("updateCartProductsData",[])}))}))},updateCartProductAmount:function(t,e){var r=e.productId,a=e.amount;return t.commit("updateCartProductAmount",{productId:r,amount:a}),a<1?0:T.a.put("".concat(k.API_BASE_URL,"/api/baskets/products"),{basketItemId:r,quantity:a},{params:{userAccessKey:t.state.userAccessKey}}).then((function(e){t.commit("updateCartProductsData",e.data.items)})).catch((function(){t.commit("syncCartProducts")}))},deleteCartProduct:function(t,e){var r=e.productId;return console.log(r),T.a.delete("".concat(k.API_BASE_URL,"/api/baskets/products"),{params:{userAccessKey:t.state.userAccessKey},data:{basketItemId:r}}).then((function(e){t.commit("updateCartProductsData",e.data.items),t.commit("syncCartProducts")}))}}});a["a"].config.productionTip=!1,new a["a"]({router:Ae,store:xe,render:function(t){return t(C)}}).$mount("#app")}});
//# sourceMappingURL=app.9e1516ae.js.map